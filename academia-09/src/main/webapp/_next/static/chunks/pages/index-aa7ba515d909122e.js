(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3845:function(e,r,t){"use strict";var n=t(5318);r.Z=void 0;var a=n(t(4938)),i=t(5893),o=(0,a.default)((0,i.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");r.Z=o},8581:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(884)}])},5418:function(e,r,t){"use strict";t.d(r,{N:function(){return n},P:function(){return a}});var n={title:"Error",icon:"error",toast:!0,position:"top",showConfirmButton:!1,timer:2e3,timerProgressBar:!0},a={title:"Success",icon:"success",toast:!0,position:"top",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}},884:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return X}});var n=t(5893),a=t(9008),i=t(4051),o=t.n(i),s=t(7294),c=t(1163),l=t(9661),u=t(3321),d=t(1903),f=t(9226),m=t(3845),h=t(5861),p=t(7948),v=t(2842),x=t(6455),y=t.n(x),g=t(3366),k=t(7462),w=t(6010),b=t(7192),S=t(917),Z=t(8216),j=t(7623),P=t(1496),N=t(8979);function C(e){return(0,N.Z)("MuiCircularProgress",e)}(0,t(6087).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const D=["className","color","disableShrink","size","style","thickness","value","variant"];let _,M,I,E,$=e=>e;const z=44,A=(0,S.F4)(_||(_=$`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),B=(0,S.F4)(M||(M=$`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),F=(0,P.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,Z.Z)(t.color)}`]]}})((({ownerState:e,theme:r})=>(0,k.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:r.transitions.create("transform")},"inherit"!==e.color&&{color:r.palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,S.iv)(I||(I=$`
      animation: ${0} 1.4s linear infinite;
    `),A))),R=(0,P.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),O=(0,P.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${(0,Z.Z)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})((({ownerState:e,theme:r})=>(0,k.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,S.iv)(E||(E=$`
      animation: ${0} 1.4s ease-in-out infinite;
    `),B)));var T=s.forwardRef((function(e,r){const t=(0,j.Z)({props:e,name:"MuiCircularProgress"}),{className:a,color:i="primary",disableShrink:o=!1,size:s=40,style:c,thickness:l=3.6,value:u=0,variant:d="indeterminate"}=t,f=(0,g.Z)(t,D),m=(0,k.Z)({},t,{color:i,disableShrink:o,size:s,thickness:l,value:u,variant:d}),h=(e=>{const{classes:r,variant:t,color:n,disableShrink:a}=e,i={root:["root",t,`color${(0,Z.Z)(n)}`],svg:["svg"],circle:["circle",`circle${(0,Z.Z)(t)}`,a&&"circleDisableShrink"]};return(0,b.Z)(i,C,r)})(m),p={},v={},x={};if("determinate"===d){const e=2*Math.PI*((z-l)/2);p.strokeDasharray=e.toFixed(3),x["aria-valuenow"]=Math.round(u),p.strokeDashoffset=`${((100-u)/100*e).toFixed(3)}px`,v.transform="rotate(-90deg)"}return(0,n.jsx)(F,(0,k.Z)({className:(0,w.Z)(h.root,a),style:(0,k.Z)({width:s,height:s},v,c),ownerState:m,ref:r,role:"progressbar"},x,f,{children:(0,n.jsx)(R,{className:h.svg,ownerState:m,viewBox:"22 22 44 44",children:(0,n.jsx)(O,{className:h.circle,style:p,ownerState:m,cx:z,cy:z,r:(z-l)/2,fill:"none",strokeWidth:l})})}))})),V=t(5418);function W(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function q(e,r,t,n,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void t(l)}s.done?r(c):Promise.resolve(c).then(n,a)}function H(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return W(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return W(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(){var e=(0,v.a)(),r=(0,c.useRouter)(),t=H(s.useState(!1),2),a=(t[0],t[1]),i=H(s.useState(!1),2),x=i[0],g=i[1],k=H(s.useState(!1),2),w=k[0],b=k[1],S=function(){var r,t=(r=o().mark((function r(t){var n,i,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),n=new FormData(t.currentTarget),i=n.get("username"),s=n.get("password"),g(""==i),b(""==s),""==i||""==s){r.next=34;break}return r.prev=7,a(!0),r.next=11,e.login(i,s);case 11:a(e.loading),r.next=34;break;case 14:if(r.prev=14,r.t0=r.catch(7),console.log(r.t0.response.status),500!=r.t0.response.status){r.next=23;break}return V.N.text="Internal Server Error",r.next=21,y().fire(V.N);case 21:r.next=33;break;case 23:if(401!=r.t0.response.status){r.next=29;break}return V.N.text="Invalid username or password",r.next=27,y().fire(V.N);case 27:r.next=33;break;case 29:if(400!=r.t0.response.status){r.next=33;break}return V.N.text="Bad request",r.next=33,y().fire(V.N);case 33:a(!1);case 34:case"end":return r.stop()}}),r,null,[[7,14]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=r.apply(e,t);function o(e){q(i,n,a,o,s,"next",e)}function s(e){q(i,n,a,o,s,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();return e.user&&r.push("/overview"),(0,n.jsx)(p.Z,{component:"main",maxWidth:"xs",children:e.user?(0,n.jsx)(f.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:(0,n.jsx)(T,{})}):(0,n.jsxs)(f.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(l.Z,{sx:{m:1,bgcolor:"primary.main"},children:(0,n.jsx)(m.Z,{})}),(0,n.jsx)(h.Z,{component:"h1",variant:"h5",children:"Sign in"}),(0,n.jsxs)(f.Z,{component:"form",onSubmit:S,noValidate:!0,sx:{mt:1},children:[(0,n.jsx)(d.Z,{error:x,margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"text",autoFocus:!0}),(0,n.jsx)(d.Z,{error:w,margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),(0,n.jsx)(u.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]})]})})}t(1664);function X(){return(0,n.jsxs)(p.Z,{children:[(0,n.jsx)(a.default,{children:(0,n.jsx)("title",{children:"Academia"})}),(0,n.jsx)(U,{})]})}},9008:function(e,r,t){e.exports=t(5443)}},function(e){e.O(0,[807,774,888,179],(function(){return r=8581,e(e.s=r);var r}));var r=e.O();_N_E=r}]);